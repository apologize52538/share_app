(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0f1194"],{"9ed6":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-nav-bar",{attrs:{title:"登录"}}),a("van-form",{on:{submit:e.doLogin}},[a("van-field",{attrs:{name:"mobile",label:"手机号",placeholder:"请输入手机号",rules:e.rules.mobile},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}}),a("van-field",{attrs:{name:"code",label:"验证码",placeholder:"请输入验证码",rules:e.rules.code},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{loading:e.isLoading,"loading-text":"登录中...",round:"",block:"",type:"info","native-type":"submit"}},[e._v("登录")])],1)],1)],1)},r=[],o=a("1da1"),s=(a("96cf"),a("365c")),i={data:function(){return{mobile:"13911111111",code:"246810",isLoading:!1,rules:{mobile:[{required:!0,message:"请填写手机号"},{pattern:/^1[2-9]\d{9}$/,message:"请填写正确的手机号",trigger:"onBlur"}],code:[{required:!0,message:"请填写验证码"},{pattern:/^\d{6}$/,message:"请输入6位数字验证码"}]}}},methods:{doLogin:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.isLoading=!0,a.prev=1,a.next=4,Object(s["m"])(e);case 4:n=a.sent,t.$toast.success("登录成功"),t.$store.commit("saveToken",n.data.data),t.$store.dispatch("reqUserInfo"),t.$route.query.back?t.$router.push(t.$route.query.back):t.$router.push("/layout/home"),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](1),t.$toast.fail("登录失败");case 14:t.isLoading=!1;case 15:case"end":return a.stop()}}),a,null,[[1,11]])})))()}}},l=i,c=a("2877"),u=Object(c["a"])(l,n,r,!1,null,null,null);t["default"]=u.exports}}]);